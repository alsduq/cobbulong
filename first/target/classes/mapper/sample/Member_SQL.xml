<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="member">
 	<select id="selectId" parameterType="hashmap" resultType="int">
	    <![CDATA[
	        SELECT
	            count(*)
	        FROM
	            tb_member
	        WHERE
	            id = #{inputId} AND del_gb = 'N'
	    ]]>
	</select>
	
	<insert id="insertMember" parameterType="hashmap" useGeneratedKeys="true" keyProperty="idx">
		<![CDATA[
			INSERT INTO tb_member
			(
				id,
			    email, 
			    password, 
			    name, 
			    crea_dtm, 
			    del_gb 
			)
			VALUES
			(
				#{inputId},
			    #{inputEmail}, 
			    #{inputPassword1}, 
			    #{inputName}, 
			    now(), 
			    'N'
			)
		]]>
	</insert>
	
	<select id="logIn" parameterType="hashmap" resultType="string">
	    <![CDATA[
	        SELECT
	            password
	        FROM
	            tb_member
	        WHERE
	            id = #{inputId} AND del_gb = 'N'
	    ]]>
	</select>
</mapper>
